<!DOCTYPE html>
<html>
  <head>
    <link rel="shortcut icon" href="{{ site.baseurl}}/images/favicon.ico" />
    <meta charset="utf-8" />
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>

    <title>{% if page.title %}{{ page.title }} – {% endif %}{{ site.name }} – {{ site.description }}</title>

    <meta name="author" content="{{ site.name }}" />
    <meta name="description" content="{{ site.description }}">

    <link rel="stylesheet" type="text/css" href="{{ site.baseurl }}/style.css" />
    <link rel="alternate" type="application/rss+xml" title="{{ site.name }} - {{ site.description }}" href="{{ site.baseurl }}/feed.xml" />
  </head>

  <body>
    <div class="wrapper-masthead">
      <div class="container">
        <header class="masthead clearfix">
          <div id="beyond-jquery-alert">
            <div class="alert-content" aria-hidden="true">
              <div class="close" role="button" tabindex="0"></div>
              <div class="message">
                Do you like these articles? Have you found them helpful but are looking for
                <em>much more detail</em> and a <em>larger array of topics</em>?
                Pre-order my book, <strong><span class="beyond-green">Beyond</span> jQuery</strong> 
                on <a href="https://amzn.com/1484222342">Amazon</a>!
                </a>
              </div>
            </div>
          </div>

          <a href="{{ site.baseurl }}/" class="site-avatar"><img src="{{ site.baseurl}}/{{ site.avatar }}" /></a>

          <div class="site-info">
            <h1 class="site-name"><a href="{{ site.baseurl }}/">{{ site.name }}</a></h1>
            <p class="site-description">{{ site.description }}</p>
          </div>

          <nav>
            <a href="{{ site.baseurl }}/">Blog</a>
            <a href="{{ site.baseurl }}/about">About</a>
          </nav>
        </header>
      </div>
    </div>

    <div id="main" role="main" class="container">
      {{ content }}
    </div>

    <div class="wrapper-footer">
      <div class="container">
        <footer class="footer">
          {% include svg-icons.html %}
          <div>
            <a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="{{ site.baseurl}}/images/ccby.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
          </div>
          <div>
            This blog lives in a <a href="https://github.com/rnicholus/you-dont-need-jquery">GitHub repository</a> and was developed using <a href="https://github.com/barryclark">Barry Clark's</a> <a href="https://github.com/barryclark/jekyll-now">Jekyll Now</a>.
          </div>
        </footer>
      </div>
    </div>

    {% include analytics.html %}
</body>

  <script>
    // show promo
    (function() {
      var promoKey = 'sawPromoAmazonPreorder'
      var showPromo = !localStorage.getItem(promoKey);

      if (showPromo) {
        var messageEl = document.querySelector('#beyond-jquery-alert .alert-content');
        
        setTimeout(function() {
          messageEl.setAttribute('aria-hidden', 'false');
          localStorage.setItem(promoKey, true);
        }, 30000);

        document.querySelector('#beyond-jquery-alert .close').addEventListener('click', function() {
          messageEl.setAttribute('aria-hidden', 'true');
        });
      }
    }());
  </script>
</html>
